<section [ngClass]="customClass" class="flex justify-between mx-auto ">
  @for (step of steps; track step; let i = $index) {
  <div
    [class]="'line-' + i + ' '"
    [ngClass]="{
      'flex w-full items-center after:content-[\'\'] after:w-full after:h-1 after:border-b-2  after:border-1 ':
        i !== steps.length - 1,
      'after:border-figma-green': i < selectedIndex,
      'after:border-red-color': i + 2 === steps.length && step.label === 'Assembling product'
    }"
  >
    <button
      class="flex relative flex-col items-center justify-center w-[36px] h-[36px] p-4 border-2 rounded-full font-inter"
      [ngClass]="
        {
          'bg-white text-figma-green stepperShadow': selectedIndex === i && step.label !== 'Cancelled',
'bg-figma-green text-white border-figma-green': i < selectedIndex,
'bg-red-color border-red-color text-white': step.label === 'Cancelled'
        }
      "
      (click)="selectStepByIndex(i)"
    >
      <span class="absolute">{{ i + 1 }}</span>
      <p [ngClass]="step.label === 'Cancelled' ? 'text-red-color' : ''" class="absolute text-sm font-inter text-black top-9 whitespace-nowrap">{{ step.label }}</p>
    </button>
  </div>
  }
</section>
<div class="mt-[87px]" [ngTemplateOutlet]="selected ? selected.content : null"></div>
<!-- @if (selectedIndex < steps.length - 1) {

  <div class="flex gap-[19px] mt-6">
    <button
      [ngClass]="
        selectedIndex !== 0
          ? 'text-figma-green border-figma-green'
          : 'text-placeholder'
      "
      cdkStepperPrevious
      class="border font-bold w-[120px] rounded-[7px] h-[34px]"
    >
      Previous
    </button>
    <button
      cdkStepperNext
      type="submit"
      class="border font-bold w-[120px] rounded-[7px] h-[34px] bg-figma-green text-white"
    >
    @if (selectedIndex === 1) {
      <span>Pay {{ price | currency }} </span>
    } @else {
      <span>Next</span>
    }
    </button>
  </div>
} -->
