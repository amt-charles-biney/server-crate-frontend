<ng-container *ngIf="shippingInfoForm$ | async"></ng-container>
<h2 class="font-bold text-center md:text-start">Shipping</h2>
<form [formGroup]="shippingForm" (ngSubmit)="saveShippingDetails()">
  <section class="grid grid-cols-2 gap-x-[35px]">
    <app-custom-input
      id="firstName"
      label="First Name"
      type="text"
      placeholder="Enter your first name"
      formControlName="firstName"
    />
    <app-custom-input
      id="lastName"
      label="Last Name"
      type="text"
      placeholder="Enter your last name"
      formControlName="lastName"
    />

    <app-custom-input
    id="email"
    label="Email"
    type="email"
    placeholder="Enter your email"
    formControlName="email"
  />

    <!-- <app-custom-input
      id="address1"
      label="Address 1"
      type="text"
      placeholder="Address 1"
      formControlName="address1"
    /> -->
    <app-address [control]="$any(shippingForm.controls['address1'])" (addressEmitter)="getAddress($event)"/>
    <app-custom-input
      id="address2"
      label="Address 2"
      type="text"
      placeholder="Address 2"
      formControlName="address2"
    />

    <app-custom-input
      id="country"
      label="Country"
      type="text"
      placeholder="Enter name of country"
      formControlName="country"
    />
    <app-custom-input
      id="state"
      label="State"
      type="text"
      placeholder="Enter name of state"
      formControlName="state"
    />
    <app-custom-input
      id="city"
      label="City"
      type="text"
      placeholder="Enter name of city"
      formControlName="city"
    />
    <app-custom-input
      id="zipCode"
      label="Zip Code"
      type="number"
      placeholder="Enter your zip code"
      formControlName="zipCode"
    />
    <div>
      <label class="flex flex-col gap-0.5 mt-4" for="contact">
        <span class="">Contact</span>
        <input
          id="contact"
          [ngClass]="showWarning ? 'border-red-600' : ''"
          type="tel"
          class="flex border-[1.5px] w-full placeholder:text-figma-gray outline-none px-4 py-2 rounded-md"
          #telInput
          formControlName="contact"
        />
      </label>
      @if (showWarning !== '') {
      <span class="text-red-600 text-sm">{{ showWarning }}</span>
      }
    </div>
  </section>
  <app-custom-button buttonText="Save Changes" [isPrimaryButton]="true" />
</form>
